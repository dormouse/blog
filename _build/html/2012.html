<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>这就是LEGO®的售后服务 &mdash; Dormouse&#39;s Blog 0.1 文档</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="Dormouse&#39;s Blog 0.1 文档" href="index.html" />
    <link rel="next" title="让我们来打洞吧" href="2011.html" />
    <link rel="prev" title="pelican note" href="2014.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="2011.html" title="让我们来打洞吧"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="2014.html" title="pelican note"
             accesskey="P">上一页</a> |</li>
        <li><a href="index.html">Dormouse&#39;s Blog 0.1 文档</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">这就是LEGO®的售后服务</a><ul>
<li><a class="reference internal" href="#id1">第一次联系（2012年7月11日 星期三）</a></li>
<li><a class="reference internal" href="#id2">第二次联系（2012年7月13日 星期五）</a></li>
<li><a class="reference internal" href="#id3">第三次联系（2012年7月16日 星期一）</a></li>
<li><a class="reference internal" href="#id4">收到国外寄来的贴纸(2012年7月27日 星期五）</a></li>
<li><a class="reference internal" href="#id5">附件1</a></li>
<li><a class="reference internal" href="#id6">附件2</a></li>
<li><a class="reference internal" href="#id7">附件3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">拆还是不拆呢？</a></li>
<li><a class="reference internal" href="#a-gang-story-2011">A Gang Story（2011） 里昂黑帮</a></li>
<li><a class="reference internal" href="#linux-mint-12">硬盘安装 Linux Mint 12</a><ul>
<li><a class="reference internal" href="#grub">修改 Grub</a></li>
<li><a class="reference internal" href="#id9">添加 163 源</a></li>
<li><a class="reference internal" href="#ubunturoot">不用密码成为Ubuntu的Root用户</a></li>
<li><a class="reference internal" href="#pae">安装支持PAE的内核</a></li>
<li><a class="reference internal" href="#id10">安装常用软件</a><ul>
<li><a class="reference internal" href="#python-virtualenv">安装 python virtualenv</a></li>
<li><a class="reference internal" href="#virtualbox">安装 virtualbox</a></li>
<li><a class="reference internal" href="#vim">安装 vim</a></li>
<li><a class="reference internal" href="#xbmc">安装 XBMC</a></li>
<li><a class="reference internal" href="#id11">安装其他软件</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#d">龙门飞甲3D版</a></li>
<li><a class="reference internal" href="#dotcloud-wordpress">dotcloud 部署 wordpress</a><ul>
<li><a class="reference internal" href="#id12">安装环境并创建项目</a></li>
<li><a class="reference internal" href="#id13">查看项目信息</a></li>
<li><a class="reference internal" href="#id14">数据库管理</a></li>
<li><a class="reference internal" href="#wordpress">下载安装wordpress</a></li>
<li><a class="reference internal" href="#url">重写URL</a></li>
<li><a class="reference internal" href="#https">强制https访问</a></li>
<li><a class="reference internal" href="#id15">绑定域名</a></li>
<li><a class="reference internal" href="#id16">删除应用和服务</a></li>
<li><a class="reference internal" href="#ssh-shell">使用ssh shell</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="2014.html"
                        title="上一章">pelican note</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="2011.html"
                        title="下一章">让我们来打洞吧</a></p>
  <h3>本页</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/2012.txt"
           rel="nofollow">显示源代码</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>快速搜索</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    输入相关的术语，模块，类或者函数名称进行搜索
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lego">
<h1>这就是LEGO®的售后服务<a class="headerlink" href="#lego" title="永久链接至标题">¶</a></h1>
<p>2012-07-11 11:10:04</p>
<div class="section" id="id1">
<h2>第一次联系（2012年7月11日 星期三）<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<p>不得不说，LEGO®的售后服务比国内的大多数公司都强多了。
我的8088套件中缺少贴纸，于是在LEGO®官网发了一个请求，数分钟后就收到回应，内容见附件1。</p>
<p>比起我买的大金®空调来，光是响应的速度就不只差了一个数量级。我一直相信，服务才是一个公司的根本。没有好的服务，再好的产品都不会有好的前途。而一个好的服务是从一个快速而周到的响应开始的。</p>
</div>
<div class="section" id="id2">
<h2>第二次联系（2012年7月13日 星期五）<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>两天后，客服人员发电子邮件与我联系，要求提供付款凭据（一串数字）。
邮件内容见附件2。</p>
</div>
<div class="section" id="id3">
<h2>第三次联系（2012年7月16日 星期一）<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>我买了两套8088，拆了其中一套，发现没有贴纸，我担心没拆的另一套也没有贴纸，于是我问客服能不能给我补两套。客服答复我：因为是有版权的东西，如果不提供付款凭据，只能给我补发一套。补发的贴纸已经从丹麦的仓库发出，将于21个工作日内送达。
邮件内容见附件3。</p>
</div>
<div class="section" id="id4">
<h2>收到国外寄来的贴纸(2012年7月27日 星期五）<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>上图为证，不过由于外语不好，没看出来是哪里寄过来的。</p>
<img alt="_images/legostickers.jpg" src="_images/legostickers.jpg" />
<p>对于这样的售后服务我还能说什么呢？不知道国内有几个企业会认真地寄一张纸给用户？也不知道有几个企业会用硬板纸来保护一张纸？
不怕不识货，就怕货比货啊。</p>
</div>
<div class="section" id="id5">
<h2>附件1<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<p>Dear LEGO® friend,</p>
<p>（亲爱的乐高朋友）</p>
<p>Thank you for emailing LEGO Consumer Services. We are sorry to hear that your new LEGO set was incomplete. Our production checks are rigorous. We even weigh the boxes electronically before they&#8217;re shipped to check that there&#8217;s nothing missing. However, from time to time one or two pieces can be missing from a set, and of course we&#8217;re happy to replace them immediately.</p>
<p>（感谢你给乐高客服写信。我们为你新买的乐高套件不完整而感到抱歉。我们的产品检验是严格的。为了确保套件完整，在发货前我们甚至使用电子秤给产品秤重。但是间或套件会缺少个把零件。我们愿意立即为你补上。）</p>
<p>Unless we need to contact you regarding your part, we&#8217;ll send a replacement to you as quickly as possible. This should arrive within three weeks.</p>
<p>（除非我们需要与你确认缺失的零件，我们将尽快为你送出零件。零件将于三周内送达。）</p>
</div>
<div class="section" id="id6">
<h2>附件2<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>Dear XXX,</p>
<p>Thanks for getting in touch with us.</p>
<p>I&#8217;m sorry that the stickers are missing from your new LEGO® set. I know how frustrating it is to not be able to continue building. We try really hard to make sure all LEGO toys are perfect, but sometimes a faulty one sneaks through.</p>
<p>The stickers you requested are from a licensed set and because of the LEGO Group’s agreement with the licensing company, we will need proof of purchase information before we can send them to you. You can find the proof of purchase number at the bottom of the back cover of your building instruction booklet near the LEGO copyright information. It begins with the number 4 or 6.</p>
<p>Please reply to this email or call one of our experts directly at 00800 5346 5555 with your reference number, 031297034B.</p>
<p>Your order details will be stored in our database for the duration of 4 weeks. After this period of time, the details of your order will be deleted. Please ensure that you contact us before the end of that period so that you can place your order with us.</p>
<p>As soon as we have the proof of purchase number, we will send you the missing stickers as fast as we can!</p>
<p>Also, I&#8217;m passing your comments onto the team in charge of product quality and testing, so that we can investigate.</p>
<p>Please get in touch again if you need anything else (you&#8217;ll need to remind me of the reference number on this letter).</p>
<p>Happy building!</p>
<p>Katherine
LEGO Direct Consumer Services</p>
<p>If you wish to reply to this message, use the &#8220;Reply&#8221; button on your e-mail program. Please do not make any changes to the subject line, as this may lead to a long delay in responding to you. Please note that we cannot accept any email attachments at this time.</p>
<p>Does this answer meet your expectations of our service? - Click here to answer 4 questions.
<a class="reference external" href="http://www.econsumeraffairs.com/ls">http://www.econsumeraffairs.com/ls</a>..............</p>
</div>
<div class="section" id="id7">
<h2>附件3<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>Dear XXX,</p>
<p>Thanks for getting in touch with us.</p>
<p>I&#8217;m sorry your new LEGO® set didn&#8217;t have all of its pieces.</p>
<p>We try really hard to make sure all LEGO toys are perfect, but sometimes a faulty one sneaks through.</p>
<p>Actually - controlling the quality of the toys that leave our factory is a big job (about seven LEGO sets are sold every second!) and we spend a long time trying to get it right.</p>
<p>We have a whole department of experts (and machines) who test every LEGO set before it leaves us - they even weigh every box to make sure there&#8217;s nothing missing.</p>
<p>We&#8217;d like to get even better at catching any faulty LEGO sets though, so I&#8217;m passing your comments onto the team in charge of testing. It&#8217;ll help them make sure this doesn&#8217;t happen again.</p>
<p>Your LEGO parts are on their way from our warehouse in Denmark and should be there within 21 business days. Unfortunately, due to the stickers being a licensed item, I am only able to send you 1 set.</p>
<p>Please get in touch again if you need anything else (you&#8217;ll need to remind me of the reference number on this letter).</p>
<p>Happy building!</p>
<p>Sincerely,</p>
<p>Meredith</p>
<p>LEGO Direct Consumer Services</p>
<p>Did You Know?</p>
<p>In 2002 LEGO Group made around 120 million mini figures!</p>
<p>LEGO System A/S, Aastvej 1, 7190 Billund, Denmark - Registry Court: Retten i Kolding, Domhusgade 24, 6000 Kolding, Denmark - Commercial Register Number: CVR 47458714 - General Managers: Mads Nipper</p>
<p>（全文完）</p>
</div>
</div>
<div class="section" id="id8">
<h1>拆还是不拆呢？<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h1>
<p>2012年 07月 11日 星期三 09:23:30 CST</p>
<p>今日闲赋在家，早上八点半被雷声吵醒，然后便开始听暴烈的雨声。今年还没有下
过这样的透雨，暴雨终于把酷热压了下去，选择今天调休真是一个明智的选择：不用冒雨
上班，在家也不用开空调。</p>
<p>忽然想到乐高上面容易落灰，如何妥妥地保存呢？除了订做有机玻璃的盒子，还有什么更好的办法呢？</p>
<p>看着新到的冬日小镇（10222）是拆还是不拆呢？现在拆还是等到圣诞节呢？</p>
</div>
<div class="section" id="a-gang-story-2011">
<h1>A Gang Story（2011） 里昂黑帮<a class="headerlink" href="#a-gang-story-2011" title="永久链接至标题">¶</a></h1>
<p>2012年 05月 07日 星期一 20:23:59 CST</p>
<p>这里一部讲述“义”的电影。两个从小出生入死的兄弟，到老了，A落难了，B为了友谊奋力
相救。最后B却发现三十五年前的告密者竟是A。
法国人硬是把一部黑帮片变成了一部文艺片。</p>
</div>
<div class="section" id="linux-mint-12">
<h1>硬盘安装 Linux Mint 12<a class="headerlink" href="#linux-mint-12" title="永久链接至标题">¶</a></h1>
<p>2012年4月25日</p>
<div class="section" id="grub">
<h2>修改 Grub<a class="headerlink" href="#grub" title="永久链接至标题">¶</a></h2>
<p>修改 /boot/grub/grub.cfg ，添加内容如下:</p>
<div class="highlight-python"><div class="highlight"><pre>### 我把ISO放在C盘(第一硬盘第一分区)对应的是(hd0,1)

menuentry “硬盘安装 Linux Mint 12″  –class linuxmint {
        insmod ntfs
        loopback loop (hd0,5)/linuxmint-12-gnome-dvd-32bit.iso
        linux (loop)/casper/vmlinuz boot=casper iso-scan/filename=/linuxmint-12-gnome-dvd-32bit.iso locale=zh_CN.UTF-8 noprompt noeject splash
        initrd (loop)/casper/initrd.lz
}
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h2>添加 163 源<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>在 /etc/apt/souce.list 文件中添加如下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>deb http://mirrors.163.com/ubuntu/ oneiric main universe restricted multiverse
deb-src http://mirrors.163.com/ubuntu/ oneiric main universe restricted multiverse
deb http://mirrors.163.com/ubuntu/ oneiric-security universe main multiverse restricted
deb-src http://mirrors.163.com/ubuntu/ oneiric-security universe main multiverse restricted
deb http://mirrors.163.com/ubuntu/ oneiric-updates universe main multiverse restricted
deb http://mirrors.163.com/ubuntu/ oneiric-proposed universe main multiverse restricted
deb-src http://mirrors.163.com/ubuntu/ oneiric-proposed universe main multiverse restricted
deb http://mirrors.163.com/ubuntu/ oneiric-backports universe main multiverse restricted
deb-src http://mirrors.163.com/ubuntu/ oneiric-backports universe main multiverse restricted
deb-src http://mirrors.163.com/ubuntu/ oneiric-updates universe main multiverse restricted
</pre></div>
</div>
</div>
<div class="section" id="ubunturoot">
<h2>不用密码成为Ubuntu的Root用户<a class="headerlink" href="#ubunturoot" title="永久链接至标题">¶</a></h2>
<p>编辑 vi /etc/pam.d/su ，将其中的:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># auth sufficient pam_wheel.so trust</span>
</pre></div>
</div>
<p>改为:</p>
<div class="highlight-python"><div class="highlight"><pre>auth sufficient pam_wheel.so trust group=admin
</pre></div>
</div>
</div>
<div class="section" id="pae">
<h2>安装支持PAE的内核<a class="headerlink" href="#pae" title="永久链接至标题">¶</a></h2>
<p>Linux Mint 12 LXDE 只有32位的，且安装完后不支持 2G 以上内存。如果要支持 2G 以上
内存，那么要输入以下命令:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install linux-generic-pae linux-image-generic-pae linux-headers-generic-pae
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h2>安装常用软件<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<div class="section" id="python-virtualenv">
<h3>安装 python virtualenv<a class="headerlink" href="#python-virtualenv" title="永久链接至标题">¶</a></h3>
<p>使用如下命令:</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install python-virtualenv
</pre></div>
</div>
</div>
<div class="section" id="virtualbox">
<h3>安装 virtualbox<a class="headerlink" href="#virtualbox" title="永久链接至标题">¶</a></h3>
<p>下载 virtualbox 和 Extension
(<a class="reference external" href="https://www.virtualbox.org/wiki/Linux_Downloads">https://www.virtualbox.org/wiki/Linux_Downloads</a>) ,然后把用户添加到
vboxusers 组:</p>
<div class="highlight-python"><div class="highlight"><pre>usermod -a -G vboxusers dormouse
</pre></div>
</div>
</div>
<div class="section" id="vim">
<h3>安装 vim<a class="headerlink" href="#vim" title="永久链接至标题">¶</a></h3>
<p>下载安装:</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install vim-gnome
get vimim(http://vim.sourceforge.net/scripts/script.php?script_id=2506)
get jidian wubi(http://code.google.com/p/vimim-data/downloads/detail?name=vimim.wubijd.txt.bz2&amp;can=2&amp;q=)
cp vimim.vim ~/.vim/plugin/
cp vimim.wubijd.txt ~/.vim/plugin/
</pre></div>
</div>
<p>使用方法：</p>
<blockquote>
<div><p>中文输入：gi</p>
<p>英文输入：i</p>
<p>输入方法切换：Ctrl+6</p>
</div></blockquote>
</div>
<div class="section" id="xbmc">
<h3>安装 XBMC<a class="headerlink" href="#xbmc" title="永久链接至标题">¶</a></h3>
<p>输入如下命令安装（ 适用于 Ubuntu 9.10 Karmic 或更高版本，详见：
<a class="reference external" href="http://wiki.xbmc.org/index.php?title=HOW-TO:Install_XBMC_on_Ubuntu/HOW-TO_1">http://wiki.xbmc.org/index.php?title=HOW-TO:Install_XBMC_on_Ubuntu/HOW-TO_1</a>):</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install python-software-properties pkg-config
add-apt-repository ppa:team-xbmc
apt-get update
apt-get install xbmc xbmc-standalone
apt-get update
</pre></div>
</div>
<p>安装完以后要设置字体：进入 XBMC，菜单 System -&gt; Appearance -&gt; Skin -&gt; Fonts -&gt;
选择 Arial based 。</p>
</div>
<div class="section" id="id11">
<h3>安装其他软件<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<p>其他软件:</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install build-essential python-wxtools wx2.8-doc wx2.8-examples
apt-get install fcitx fcitx-table-wbpy stardict
apt-get install keepassx amule gnucash geeqie
apt-get install git-core git-gui git-doc
</pre></div>
</div>
<p>nevernote:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo add-apt-repository ppa:vincent-c/nevernote
sudo apt-get update
sudo apt-get install nevernote
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="d">
<h1>龙门飞甲3D版<a class="headerlink" href="#d" title="永久链接至标题">¶</a></h1>
<p>2012年1月7日</p>
<p>今天看了龙门飞甲3D版，不出意外地失望。版本写得烂，这年头编个好故事这么难么？</p>
<p>远景都是动画，一开头我还以为今天要看一部动画片。</p>
<p>李某的出场绝对是个亮点，就是对于一个木头来说戏份太多了点。</p>
</div>
<div class="section" id="dotcloud-wordpress">
<h1>dotcloud 部署 wordpress<a class="headerlink" href="#dotcloud-wordpress" title="永久链接至标题">¶</a></h1>
<p>2012年1月6日</p>
<div class="section" id="id12">
<h2>安装环境并创建项目<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<p>首先在 dotcloud 网站注册，并记录 api key 。</p>
<p>安装 dotcloud 环境:</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo easy_install dotcloud
</pre></div>
</div>
<p>运行以下命令，根据提示输入 api key:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud
</pre></div>
</div>
<p>创建项目:</p>
<div class="highlight-python"><div class="highlight"><pre>$ mkdir wordpress
$ cd wordpress
$ dotcloud create dormouse
</pre></div>
</div>
<p>创建以下内容的dotcloud.yml:</p>
<div class="highlight-python"><div class="highlight"><pre>www:
  type: php
db:
  type: mysql
</pre></div>
</div>
<p>推送项目:</p>
<div class="highlight-python"><div class="highlight"><pre>dotcloud push dormouse
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h2>查看项目信息<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<p>全站信息:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud info dormouse
</pre></div>
</div>
<p>显示以下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>db:
    config:
        mysql_masterslave: true
        mysql_password: Y2##########CfUl89
    instances: 1
    type: mysql
www:
    config:
        phpfpm_processes: 4
        static: static
    instances: 1
    type: php
    url: http://dormouse-dormouse.dotcloud.com/
</pre></div>
</div>
<p>www 信息:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud info dormouse.www
</pre></div>
</div>
<p>显示以下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>aliases:
- dormouse-dormouse.dotcloud.com
build_revision: rsync-1324737409417
config:
    phpfpm_processes: 4
    static: static
created_at: 1324737411.1332741
datacenter: Amazon-us-east-1b
image_version: e48799ec7395 (latest)
ports:
-   name: ssh
    url: ssh://dotcloud@dormouse-dormouse.dotcloud.com:20266
-   name: http
    url: http://dormouse-dormouse.dotcloud.com/
state: running
type: php
</pre></div>
</div>
<p>数据库信息:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud info dormouse.db
</pre></div>
</div>
<p>显示以下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>config:
    mysql_masterslave: true
    mysql_password: Y2We#######33###
created_at: 1324737411.5351181
datacenter: Amazon-us-east-1a
image_version: 1120eda9aa82 (latest)
instances:
    dormouse.db.0:
        role: master
        state: up
ports:
-   name: ssh
    url: ssh://mysql@dormouse-dormouse.dotcloud.com:20270
-   name: mysql
    url: mysql://root:Y2Wev5piHNyXs3CfUl89@dormouse-dormouse.dotcloud.com:20269
type: mysql
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h2>数据库管理<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h2>
<p>远程管理数据库，添加用户:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud run dormouse.db -- mysql -u root -Y2We#######33###  //登录
mysql&gt;CREATE USER &#39;wp&#39; IDENTIFIED BY &#39;98####&#39;; //创建用户“wp”，密码为98####
mysql&gt;CREATE DATABASE wp;  //创建数据库 wp
mysql&gt;GRANT ALL ON wp.* TO &#39;wp&#39;@&#39;%&#39;; //赋予 wp 用户拥有 wp 数据库的所有权限
mysql&gt;FLUSH PRIVILEGES; //刷新使生效

mysql&gt;wp &lt; mydb.sql //导入数据
mysql&gt;drop database wp //删除 wp 数据库
</pre></div>
</div>
</div>
<div class="section" id="wordpress">
<h2>下载安装wordpress<a class="headerlink" href="#wordpress" title="永久链接至标题">¶</a></h2>
<p>ssh 登录后操作:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud ssh quany.www
$ cd current
$ wget http://wordpress.org/latest.tar.gz
$ tar  zxvf latest.tar.gz
$ cd wordpress
$ cp -r ** ../
$ cd ../
$ rm -rf ** wordpress
</pre></div>
</div>
<p>因为解压出来的是一个文件夹，所以上面4个命令是把文件夹的文件全部复制到根目录下并删除原来的文件夹。</p>
<p>另：<a class="reference external" href="https://api.wordpress.org/secret-key/1.1/salt/">https://api.wordpress.org/secret-key/1.1/salt/</a></p>
</div>
<div class="section" id="url">
<h2>重写URL<a class="headerlink" href="#url" title="永久链接至标题">¶</a></h2>
<p>wordpress在Dotcloud的服务器Nginx的URL重写规则，新建nginx.conf并输入以下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>try_files $uri $uri/ /index.php;
</pre></div>
</div>
<p>上传文件并重启服务器:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud ssh quany.www              //登录SSH
$ scp nginx.conf quany.www:~/current/nginx.conf   //用SCP安全上传
$ supervisorctl restart php5-fpm     //重启php5-fpm进程
$ sudo /etc/init.d/nginx restart     //重启nginx进程
</pre></div>
</div>
</div>
<div class="section" id="https">
<h2>强制https访问<a class="headerlink" href="#https" title="永久链接至标题">¶</a></h2>
<p>在nginx.conf中加入以下内容:</p>
<div class="highlight-python"><div class="highlight"><pre>if ($http_x_forwarded_port != 443) { rewrite ^ https://$http_host/; }
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h2>绑定域名<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h2>
<p>创建一条域名的CNAME记录到gateway.dotcloud.com就可以访问了:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud alias add quany.www www.quany.info
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h2>删除应用和服务<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h2>
<p>删除应用:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud destroy quany
</pre></div>
</div>
<p>删除服务:</p>
<div class="highlight-python"><div class="highlight"><pre>$ dotcloud destroy quany.www
</pre></div>
</div>
</div>
<div class="section" id="ssh-shell">
<h2>使用ssh shell<a class="headerlink" href="#ssh-shell" title="永久链接至标题">¶</a></h2>
<p>使用命令:</p>
<div class="highlight-python"><div class="highlight"><pre>~/bin/dotCloud ssh wiwi.www
</pre></div>
</div>
<p>或者:</p>
<div class="highlight-python"><div class="highlight"><pre>~/bin/dotCloud info wiwi.www
</pre></div>
</div>
<p>之后，看端口号。</p>
<p>用 ~/.dotcloud/dotcloud.key 登录进去,在 .ssh 目录下建立一个 config文件，内容
如下:</p>
<div class="highlight-python"><div class="highlight"><pre>Host wiwi.www
HostName wiwi-wikimiao.dotcloud.com
Port 1234
User dotcloud
IdentityFile ~/.dotcloud/dotcloud.key
</pre></div>
</div>
<p>然后执行:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh -v wiwi.www
ssh -N -v wiwi.www -D 127.0.0.1:7070
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="2011.html" title="让我们来打洞吧"
             >下一页</a> |</li>
        <li class="right" >
          <a href="2014.html" title="pelican note"
             >上一页</a> |</li>
        <li><a href="index.html">Dormouse&#39;s Blog 0.1 文档</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; 版权所有 2010-2014, Dormouse.Young.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3 创建。
    </div>
  </body>
</html>